(this["webpackJsonpqieyun-autoderiver"]=this["webpackJsonpqieyun-autoderiver"]||[]).push([[0],{112:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),i=n(15),c=n.n(i),s=(n(57),n(58),n(8)),o=n(5),l=n.n(o),u=n(24),p=n.n(u),h=n(0),d=p()(l.a);function j(){d.fire({showClass:{popup:""},hideClass:{popup:""},customClass:{container:"about-modal",htmlContainer:"about-modal-content"},width:"60vw",showCloseButton:!0,showConfirmButton:!1,html:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h2",{children:"關於"}),Object(h.jsxs)("p",{children:["切韻音系自動推導器（下稱「本頁面」）由 ",Object(h.jsx)("a",{href:"https://nk2028.shn.hk/",children:"nk2028"})," ","開發。我們開發有關語言學的項目，尤其是有關歷史漢語語音學，異體字和日語語言學的項目。"]}),Object(h.jsxs)("p",{children:["歡迎加入 QQ 音韻學答疑羣（羣號 526333751）和 Telegram nk2028 社羣（",Object(h.jsx)("a",{href:"https://t.me/nk2028_discuss",children:"@nk2028_discuss"}),"）。"]}),Object(h.jsxs)("p",{children:["本頁面原始碼公開於 ",Object(h.jsx)("a",{href:"https://github.com/nk2028/qieyun-autoderiver",children:"GitHub"}),"。"]}),Object(h.jsx)("h2",{children:"私隱權政策"}),Object(h.jsx)("p",{children:"本頁面是一項開放原始碼的網絡服務。作為本頁面的開發者，我們對您的私隱非常重視。本頁面的開發者不會透過本頁面收集您的任何資料。"}),Object(h.jsx)("p",{children:"下面將具體介紹本頁面能在何種程度上保障您的私隱權。"}),Object(h.jsx)("b",{children:"您鍵入的內容"}),Object(h.jsx)("p",{children:"本頁面的開發者不會收集您在本頁面中鍵入的任何內容。任何與您鍵入的內容相關的運算全部在您的系統中完成。本頁面不會將包括待標註的文本、標註結果在內的任何資料傳送至任何伺服器。"}),Object(h.jsx)("b",{children:"您的其他資料"}),Object(h.jsx)("p",{children:"本頁面使用的內容託管於以下站點：GitHub Pages、jsDelivr、Google Fonts。在您訪問本頁面時，您的瀏覽器將與這些站點交互。本頁面的開發者並不能讀取您訪問這些站點時產生的資料，亦無法控制這些站點如何使用您訪問時產生的資料。"})]})})}var f=function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)("header",{children:Object(h.jsx)("nav",{children:Object(h.jsx)("h1",{children:Object(h.jsx)("span",{onClick:j,children:"切韻音系自動推導器"})})})}),Object(h.jsx)(s.a,{})]})},m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,113)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))};c.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(f,{})}),document.getElementById("root")),m()},46:function(e,t,n){"use strict";var r=n(15),a=n.n(r);n(64);var i={init:function(){var e=document.createElement("div");e.classList.add("large-tooltip-outer");var t=document.createElement("div");return t.classList.add("large-tooltip-inner"),e.appendChild(t),t.classList.add("large-tooltip-hidden"),document.body.appendChild(e),{addTooltip:function(e,n){function r(){var r=n.getBoundingClientRect(),i=r.top+window.pageYOffset,c=r.left+window.pageXOffset;a.a.render(e,t);var s=t.getBoundingClientRect(),o=s.height,l=s.width,u=i-o,p=c-l/2,h=parseFloat(getComputedStyle(document.body).fontSize);p=p<h?h:p;var d=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.documentElement.clientWidth)-h-l;p=p>d?d:p,t.style.top=u+"px",t.style.left=p+"px",t.classList.remove("large-tooltip-hidden")}function i(){t.classList.add("large-tooltip-hidden")}n.addEventListener("mouseenter",r,!1),n.addEventListener("touchstart",r,!1),n.addEventListener("mouseleave",i,!1),n.addEventListener("touchend",i,!1)}}}};t.a=i},47:function(e,t,n){"use strict";var r=n(6),a=n(11),i=n(12),c=n(14),s=n(13),o=n(2),l=n.n(o),u=n(8),p=n(0),h=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).props.entries.length&&(r.state={rubyClass:r.props.entries.length>1?"entry-multiple entry-unresolved":"",pronunciation:r.props.entries[0][0]}),r}return Object(i.a)(n,[{key:"handleClick",value:function(e){this.setState((function(t){return{pronunciation:e,rubyClass:t.rubyClass.replace(" entry-unresolved","")}}))}},{key:"render",value:function(){var e=this;if(!this.props.entries.length)return Object(p.jsx)(p.Fragment,{children:this.props.ch});var t=Object(p.jsx)("div",{className:"tooltip-items-wrapper",children:this.props.entries.map((function(t,n){var a=Object(r.a)(t,2),i=a[0],c=a[1];return Object(p.jsxs)("p",{className:"tooltip-item"+(e.props.entries.length>1&&i===e.state.pronunciation?" selected":""),onClick:function(){return e.handleClick(i)},children:[Object(p.jsx)("span",{className:"nowrap",lang:"och-Latn-fonipa",children:i.join(" / ")})," ",c.map((function(e,t){var n=e.字頭,r=e.解釋,a=e.音韻地位,i=e.反切;return i=null==i?"":"".concat(i,"切 "),Object(p.jsxs)(l.a.Fragment,{children:[0!==t&&Object(p.jsx)("br",{}),Object(p.jsx)("span",{className:"tooltip-ch",children:n})," ",a.描述," ",i+r]},t)}))]},n)}))});return Object(p.jsx)("span",{className:"ruby-wrapper",ref:function(n){return n&&e.props.tooltip.addTooltip(t,n)},children:Object(p.jsxs)("ruby",{className:this.state.rubyClass,children:[this.props.ch,Object(p.jsx)("rp",{children:"("}),Object(p.jsx)("rt",{lang:"och-Latn-fonipa",children:Object(u.c)(this.state.pronunciation)}),Object(p.jsx)("rp",{children:")"})]})})}}]),n}(l.a.Component);t.a=h},48:function(e,t,n){"use strict";var r=n(6),a=n(3),i=n(11),c=n(12),s=n(14),o=n(13),l=n(2),u=n.n(l),p=n(49),h=n(50),d=(n(85),n(86),n(87),n(88),n(89),n(90),n(91),n(93),n(94),n(95),n(96),n(97),n(98),n(99),n(100),n(101),n(102),n(103),n(104),n(4)),j=n(1),f=n(5),m=n.n(f),b=n(8),O=n(51),v=n.n(O),g=n(52),x=n.n(g),y=n(0);window.JSHINT=h.JSHINT;var C=d["音韻地位"].from描述("幫三凡入"),S=Object.getOwnPropertyNames(C).concat(Object.getOwnPropertyNames(Object.getPrototypeOf(C)).slice(1)),k=["音韻地位","字頭"],w=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(e){var r;Object(i.a)(this,n);var c=(r=t.call(this,e)).setParameters(e.input);return c&&e.setSchemaState(Object(a.a)(Object(a.a)({},e),{},{parameters:c})),r}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.loadSchema()}},{key:"autocomplete",value:function(e,t){if(null===this||void 0===this?void 0:this.props.autocomplete){var n,r=e.getCursor(),a=e.getTokenAt(r),i=Object(j.Pos)(r.line,a.start),c=Object(j.Pos)(r.line,a.end),s=function(){return n=n.filter((function(e){return e.startsWith(a.string)&&e!==a.string}))};switch(e.getTokenAt(Object(j.Pos)(r.line,a.start-1)).string){case"音韻地位":n=S;break;case"選項":n=Object.keys(this.props.parameters);break;default:return n=k.concat(Object.keys(this.props.parameters).length?["選項"]:[]),r.ch===a.end&&/[\s!-#%-/:-@[-^`{-~]$/.test(a.string)?i=c:s(),{list:n,from:i,to:c}}if("."===a.string)i=c;else{if("."!==e.getTokenAt(i).string)return;s()}return{list:n,from:i,to:c}}}},{key:"loadSchema",value:function(e){var t=this;e&&e.preventDefault(),Object(b.b)("https://cdn.jsdelivr.net/gh/nk2028/qieyun-examples@dev-qieyun-0.13/".concat(this.props.name,".js"),(function(n){if(e&&t.props.input&&t.props.input!==t.props.original)m.a.fire({showClass:{popup:""},hideClass:{popup:""},title:"是否確定載入？",text:"您會遺失所有變更。",icon:"warning",showCancelButton:!0,confirmButtonText:"確定",cancelButtonText:"取消"}).then((function(e){e.isConfirmed&&t.props.setSchemaState(Object(a.a)(Object(a.a)({},t.props),{},{input:n,original:n,parameters:t.setParameters(n)||{}}))}));else{var r=Object(a.a)(Object(a.a)({},t.props),{},{original:n});!e&&t.props.input||(r.input=n,r.parameters=t.setParameters(n)||{}),t.props.setSchemaState(r)}}))}},{key:"changeSchema",value:function(e){this.props.setSchemaState(Object(a.a)(Object(a.a)({},this.props),{},{name:e.target.value}))}},{key:"deleteSchema",value:function(){var e=this;this.props.input&&this.props.input!==this.props.original?m.a.fire({showClass:{popup:""},hideClass:{popup:""},title:"是否確定刪除？",text:"您會遺失所有變更。",icon:"warning",showCancelButton:!0,confirmButtonText:"確定",cancelButtonText:"取消"}).then((function(t){t.isConfirmed&&e.props.deleteSchema(e.props)})):this.props.deleteSchema(this.props)}},{key:"setParameters",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props.parameters;try{var n=Object.fromEntries(d["推導方案"].建立(new Function("音韻地位","字頭","選項",e)).parameters);return Object.entries(n).forEach((function(e){var a=Object(r.a)(e,2),i=a[0],c=a[1];Array.isArray(c)?i in t&&Array.isArray(t[i])&&c.slice(1).includes(t[i][0])&&(c[0]=t[i][0]):i in t&&typeof t[i]===typeof n[i]&&(n[i]=t[i])})),n}catch(a){}}},{key:"resetParameters",value:function(){this.props.setSchemaState(Object(a.a)(Object(a.a)({},this.props),{},{parameters:this.setParameters(this.props.input,{})||{}}))}},{key:"render",value:function(){var e=this,t=function(t,n){Array.isArray(e.props.parameters[t])?e.props.parameters[t][0]=n:e.props.parameters[t]=n,e.props.setSchemaState(Object(a.a)({},e.props))},n=Object.entries(this.props.parameters).map((function(e,n){var a=Object(r.a)(e,2),i=a[0],c=a[1];if(Array.isArray(c))return Object(y.jsxs)("label",{children:[i,Object(y.jsx)("select",{onChange:function(e){return t(i,JSON.parse(e.target.value))},value:JSON.stringify(c[0]),children:c.slice(1).map((function(e,t){return Object(y.jsx)("option",{value:JSON.stringify(e),children:e+""},t+1)}))})]},n);switch(typeof c){case"boolean":return Object(y.jsxs)("label",{children:[Object(y.jsx)("input",{type:"checkbox",checked:c,onChange:function(e){return t(i,e.target.checked)}}),i]},n);case"number":return Object(y.jsxs)("label",{children:[i,Object(y.jsx)("input",{type:"number",value:c,step:"any",onChange:function(e){return t(i,+e.target.value)}})]},n);case"string":return Object(y.jsxs)("label",{children:[i,Object(y.jsx)("input",{type:"text",value:c,onChange:function(e){return t(i,e.target.value)}})]},n);default:return null}})).filter((function(e){return e}));return n.push(n.length?Object(y.jsx)("input",{className:"pure-button",type:"button",value:"恢復預設值",onClick:function(){return e.resetParameters()}},"reset"):Object(y.jsx)("span",{className:"hint",children:"此推導方案無可用選項，請於推導程式中回傳 Object.entries() 形式的陣列以使用「選項」功能。"},"hint")),Object(y.jsxs)("div",{className:"schema-editor",children:[Object(y.jsx)("form",{className:"delete-schema",children:Object(y.jsx)("input",{type:"button",title:"刪除方案",disabled:this.props.single,onClick:function(){return e.deleteSchema()}})}),Object(y.jsx)("form",{className:"pure-form",onSubmit:function(t){return e.loadSchema(t)},children:Object(y.jsxs)("p",{children:[Object(y.jsx)("b",{children:"預設推導方案："}),Object.entries(b.d).map((function(t,n){var a=Object(r.a)(t,2),i=a[0],c=a[1];return Object(y.jsxs)("label",{children:[Object(y.jsx)("input",{type:"radio",name:"schema",value:i,checked:e.props.name===i,onChange:function(t){return e.changeSchema(t)}}),c]},n)})),Object(y.jsx)("input",{className:"pure-button",type:"submit",value:"載入"})]})}),Object(y.jsx)("div",{lang:"en-x-code",id:"schemaInput",children:Object(y.jsx)(p.Controlled,{value:this.props.input,options:{mode:"javascript",lineNumbers:!0,scrollbarStyle:"overlay",extraKeys:{F11:function(e){return e.setOption("fullScreen",!e.getOption("fullScreen"))},Esc:function(e){return e.setOption("fullScreen",!1)},F9:function(e){var t=e.getCursor(),n=e.getScrollInfo(),r=n.left,a=n.top,i=e.lineAtHeight(a,"local"),c=a-e.heightAtLine(i,"local"),s=v.a.formatWithCursor(e.getValue(),{cursorOffset:e.indexFromPos(t),parser:"babel",plugins:[x.a]}),o=s.formatted,l=s.cursorOffset;e.setValue(o);var u=e.posFromIndex(l);e.scrollTo(r,e.heightAtLine(u.line-t.line+i,"local")+c),e.setCursor(u)}},maxHighlightLength:1/0,viewportMargin:16,placeholder:"以 JavaScript 輸入推導方案……",styleActiveLine:!0,autoCloseBrackets:!0,matchBrackets:!0,foldGutter:!0,lint:{esversion:1/0},gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter","CodeMirror-lint-markers"],hintOptions:{hint:this.autocomplete.bind(this),completeSingle:!1}},onBeforeChange:function(t,n,r){var i=Object(a.a)(Object(a.a)({},e.props),{},{input:r}),c=e.setParameters(r);c&&(i.parameters=c),e.props.setSchemaState(i)},onCursorActivity:function(e){return e.hasFocus()&&e.showHint()},onFocus:function(e){return setTimeout((function(){return e.showHint()}),100)}})}),Object(y.jsx)("form",{className:"pure-form",children:Object(y.jsxs)("p",{children:[Object(y.jsx)("b",{children:"選項："}),n]})})]})}}]),n}(u.a.Component);t.a=w},58:function(e,t,n){},64:function(e,t,n){},8:function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return E})),n.d(t,"b",(function(){return M})),n.d(t,"c",(function(){return V}));var r=n(33),a=n(23),i=n(6),c=n(3),s=n(11),o=n(12),l=n(14),u=n(13),p=n(25),h=n(2),d=n.n(h),j=n(4),f=n(45),m=n.n(f),b=n(46),O=n(47),v=n(48),g=n(5),x=n.n(g),y=n(24),C=n.n(y),S=n(0);e.Qieyun=j;var k=j["資料"].query字頭,w=j["資料"].iter音韻地位,A=j["資料"].query音韻地位;function N(e){var t,n=new Map,r=Object(p.a)(A(e));try{for(r.s();!(t=r.n()).done;){var a=t.value,i=a.字頭,c=a.反切;n.has(c)||n.set(c,i)}}catch(s){r.e(s)}finally{r.f()}return Array.from(n.values())}var T=C()(x.a);function P(e,t){if(!(t instanceof Error))throw t;(null===t||void 0===t?void 0:t.stack)?T.fire({showClass:{popup:""},hideClass:{popup:""},icon:"error",title:"錯誤",customClass:"error-with-stack",html:Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("p",{children:e}),Object(S.jsx)("pre",{lang:"en-x-code",children:t.stack.replace(/\n +at eval[^]+/,"")})]}),confirmButtonText:"確定"}):x.a.fire({showClass:{popup:""},hideClass:{popup:""},icon:"error",title:"錯誤",text:e,confirmButtonText:"確定"})}function F(){P("瀏覽器不支援匯出至剪貼簿，操作失敗")}function I(){x.a.fire({showClass:{popup:""},hideClass:{popup:""},icon:"success",title:"成功",text:"已成功匯出至剪貼簿",confirmButtonText:"確定"})}function L(e){var t=document.createElement("textarea");t.value=e,t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")?I():F()}catch(n){F()}document.body.removeChild(t)}var B,E={tupa:"切韻拼音",baxter:"白一平轉寫",blankego:"有女羅馬字",kyonh:"古韻羅馬字",zyepheng:"隋拼",panwuyun:"潘悟雲擬音",unt_j:"unt 切韻擬音 J",msoeg_v8:"msoeg 中古拟音 V8",mid_tang:"推導盛中唐擬音",chiangxhua:"推導《聲音唱和圖》擬音",fanwan:"推導《分韻撮要》擬音",putonghua:"推導普通話",gwongzau:"推導廣州音",zaonhe:"推導上海話",langjin:"推導南京話",taibu:"推導大埔話",ayaka_v8:"綾香思考音系"},J={convertArticle:"從輸入框中讀取文章，並注音",convertPresetArticle:"為預設文章注音",exportAllSmallRhymes:"導出所有小韻",exportAllSyllables:"導出所有音節",exportAllSyllablesWithCount:"導出所有音節，並計數"};function M(e,t){fetch(e).then((function(e){return e.text()})).then(t).catch((function(e){return P("載入檔案失敗",e)}))}function q(){return{name:"tupa",input:"",original:"",parameters:{},id:+new Date}}function V(e){return e.map((function(e,t){return Object(S.jsxs)(d.a.Fragment,{children:[0!==t&&Object(S.jsx)("br",{}),e]},t)}))}var W=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var r;Object(s.a)(this,n),(r=t.call(this,e)).largeTooltip=void 0,r.outputArea=void 0;var a=JSON.parse(localStorage.getItem("schemas")||"[]"),i=JSON.parse(localStorage.getItem("inputs")||"[]"),c=JSON.parse(localStorage.getItem("parameters")||"[]");return r.state={schemas:a.length?a.map((function(e,t){return{name:e,input:i[t],original:"",parameters:c[t],id:t}})):[q()],article:localStorage.getItem("article")||"遙襟甫暢，逸興遄飛。爽籟發而清風生，纖歌凝而白雲遏。睢園綠竹，氣凌彭澤之樽；鄴水朱華，光照臨川之筆。四美具，二難并。窮睇眄於中天，極娛遊於暇日。天高地迥，覺宇宙之無窮；興盡悲來，識盈虛之有數。望長安於日下，目吳會於雲間。地勢極而南溟深，天柱高而北辰遠。關山難越，誰悲失路之人。萍水相逢，盡是他鄉之客。懷帝閽而不見，奉宣室以何年？",option:localStorage.getItem("option")||"convertArticle",convertVariant:"true"===localStorage.getItem("convertVariant"),autocomplete:"false"!==localStorage.getItem("autocomplete"),output:[],isApplied:!1},r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.largeTooltip=b.a.init()}},{key:"handlePredefinedOptions",value:function(){var e,t=this,n=+new Date+":",r=this.state.schemas.map((function(e){var t=e.parameters,n=Object(c.a)({},t);return Object.keys(n).forEach((function(e){Array.isArray(n[e])&&(n[e]=n[e][0])})),n})),a=function(t,n){try{return e.map((function(e,a){return e(t,n,r[a])}))}catch(a){throw P(n?"推導「".concat(n,"」字（音韻地位：").concat(t.描述,"）時發生錯誤"):"推導「".concat(t.描述,"」音韻地位（字為 null）時發生錯誤"),a),a}};if("convertPresetArticle"!==this.state.option||B){var s={convertArticle:function(){return Array.from(t.state.article).map((function(e,r){var i,c=[e].concat(t.state.convertVariant?m.a.get(e):[]),s=[],o=Object(p.a)(c);try{for(o.s();!(i=o.n()).done;){var l,u=i.value,h=Object(p.a)(k(u));try{var d=function(){var e=l.value,t=e.音韻地位,n=e.反切,r=e.解釋,i=a(t,u),c=s.find((function(e){return e[0].every((function(e,t){return e===i[t]}))}));c?c[1].push({"字頭":u,"反切":n,"解釋":r,"音韻地位":t}):s.push([i,[{"字頭":u,"反切":n,"解釋":r,"音韻地位":t}]])};for(h.s();!(l=h.n()).done;)d()}catch(j){h.e(j)}finally{h.f()}}}catch(j){o.e(j)}finally{o.f()}return Object(S.jsx)(O.a,{ch:e,entries:s,tooltip:t.largeTooltip},n+r)}))},convertPresetArticle:function(){return B.split("\n\n").map((function(e,t){return Object(S.jsx)(d.a.Fragment,{children:e.split("\n").map((function(e,t){for(var r=[],i=Array.from(e),c=0;c<i.length;c++)if("("===i[c+1]){for(var s=c;")"!==i[++c]&&c<i.length;);var o=i[s],l=i.slice(s+2,c).join(""),u=j["音韻地位"].from描述(l),p=a(u,o);r.push(Object(S.jsxs)("ruby",{children:[o,Object(S.jsx)("rp",{children:"("}),Object(S.jsx)("rt",{lang:"och-Latn-fonipa",children:V(p)}),Object(S.jsx)("rp",{children:")"})]},n+s))}else r.push(Object(S.jsx)(d.a.Fragment,{children:i[c]},n+c));return d.a.createElement(t?"p":"h3",{key:t},r)}))},t)}))},exportAllSmallRhymes:function(){return Array.from(w()).map((function(e,t){return Object(S.jsxs)("p",{children:[e.描述," ",Object(S.jsx)("span",{lang:"och-Latn-fonipa",children:a(e,null).join(" / ")})," ",N(e).join("")]},n+t)}))},exportAllSyllables:function(){return[Object(S.jsx)("span",{lang:"och-Latn-fonipa",children:Array.from(new Set(Array.from(w()).map((function(e){return a(e,null).join(" / ")})))).join(", ")},n+0)]},exportAllSyllablesWithCount:function(){return[Object(S.jsx)("span",{lang:"och-Latn-fonipa",children:Array.from(Array.from(w()).reduce((function(e,t){var n=a(t,null).join(" / ");return e.set(n,-~e.get(n)),e}),new Map)).sort((function(e,t){return t[1]-e[1]})).map((function(e){var t=Object(i.a)(e,2),n=t[0],r=t[1];return"".concat(n," (").concat(r,")")})).join(", ")},n+0)]}};try{e=this.state.schemas.map((function(e){var t=e.input;return j["推導方案"].建立(new Function("音韻地位","字頭","選項",t))}))}catch(o){return void P("程式碼錯誤",o)}try{this.setState({output:s[this.state.option](),isApplied:!0})}catch(o){}}else M("https://cdn.jsdelivr.net/gh/nk2028/qieyun-text-label@360e36b/index.txt",(function(e){B=e,t.handlePredefinedOptions()}))}},{key:"handleCopy",value:function(){var e,t=null===(e=this.outputArea)||void 0===e?void 0:e.textContent;t?navigator.clipboard?navigator.clipboard.writeText(t).then(I,(function(){return L(t)})):L(t):P("請先進行操作，再匯出結果")}},{key:"scrollToOutput",value:function(e){this.outputArea=e,this.state.isApplied&&(e.scrollIntoView({behavior:"smooth",block:"nearest"}),this.setState({isApplied:!1}))}},{key:"render",value:function(){var e=this,t=function(t,n){e.setState(Object(a.a)({},t,n),(function(){localStorage.setItem(t,e.state[t]+"")}))},n=function(){localStorage.setItem("schemas",JSON.stringify(e.state.schemas.map((function(e){return e.name})))),localStorage.setItem("inputs",JSON.stringify(e.state.schemas.map((function(e){return e.input})))),localStorage.setItem("parameters",JSON.stringify(e.state.schemas.map((function(e){return e.parameters}))))},c=function(t){e.setState((function(e){var n=e.schemas;return(n=Object(r.a)(n)).splice(n.findIndex((function(e){return e.id===t}))+1,0,q()),{schemas:n}}),n)},s=function(t){e.setState((function(e){var n=e.schemas;return(n=Object(r.a)(n))[n.findIndex((function(e){return e.id===t.id}))]=t,{schemas:n}}),n)},o=function(t){e.setState((function(e){return{schemas:e.schemas.filter((function(e){return e.id!==t.id}))}}),n)};return Object(S.jsxs)("div",{className:"main-container",children:[Object(S.jsx)("form",{className:"add-schema",children:Object(S.jsx)("input",{type:"button",title:"新增方案",onClick:function(){return c(null)}})}),this.state.schemas.map((function(t,n,r){return Object(S.jsxs)(d.a.Fragment,{children:[Object(S.jsx)(v.a,{name:t.name,input:t.input,original:t.original,id:t.id,parameters:t.parameters,setSchemaState:s,deleteSchema:o,single:1===r.length,autocomplete:e.state.autocomplete}),Object(S.jsx)("form",{className:"add-schema",children:Object(S.jsx)("input",{type:"button",title:"新增方案",onClick:function(){return c(t.id)}})})]},t.id)})),Object(S.jsxs)("form",{className:"pure-form",children:[Object(S.jsx)("p",{children:Object(S.jsx)("textarea",{id:"articleInput",placeholder:"輸入框",rows:5,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",required:!0,onChange:function(e){return t("article",e.target.value)},value:this.state.article})}),Object(S.jsxs)("p",{children:[Object(S.jsx)("label",{children:Object(S.jsx)("select",{onChange:function(e){return t("option",e.target.value)},value:this.state.option,children:Object.entries(J).map((function(e,t){var n=Object(i.a)(e,2),r=n[0],a=n[1];return Object(S.jsx)("option",{value:r,children:a},t)}))})}),Object(S.jsxs)("label",{className:"convertArticle"===this.state.option?"":"hidden",children:[Object(S.jsx)("input",{type:"checkbox",checked:this.state.convertVariant,onChange:function(e){return t("convertVariant",e.target.checked)}}),"轉換異體字"]}),Object(S.jsx)("input",{className:"pure-button pure-button-primary",type:"button",value:"適用",onClick:function(){return e.handlePredefinedOptions()}}),Object(S.jsx)("input",{className:"pure-button",type:"button",value:"匯出至剪貼簿",onClick:function(){return e.handleCopy()}}),Object(S.jsxs)("label",{children:[Object(S.jsx)("input",{type:"checkbox",checked:this.state.autocomplete,onChange:function(e){return t("autocomplete",e.target.checked)}}),"編輯推導方案時顯示自動完成"]})]})]}),Object(S.jsx)("output",{ref:function(t){return t&&e.scrollToOutput(t)},children:this.state.output})]})}}]),n}(d.a.Component);t.a=W}).call(this,n(7))}},[[112,1,2]]]);
//# sourceMappingURL=main.db7c9d16.chunk.js.map